{"version":3,"sources":["../static/js/2.f4b418ea.chunk.js","containers/share-website/index.js"],"names":["webpackJsonp","833","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_react_redux__","__WEBPACK_IMPORTED_MODULE_1__components__","__WEBPACK_IMPORTED_MODULE_2__ActionType__","__WEBPACK_IMPORTED_MODULE_3_antd_lib_message__","__WEBPACK_IMPORTED_MODULE_3_antd_lib_message___default","n","__WEBPACK_IMPORTED_MODULE_4__config_API__","state","assign","ShareWebsiteReducer","dispatch","updateFields","changeFields","type","data","shareWebsite","params","title","website","category","description","PW","PUSH_WEBSITE","requestParams","PARAM_TITLE","PARAM_WEBSITE","PARAM_CATEGORY","PARAM_DESCRIPTION","axios","post","api","then","res","code","a","success","error","msg","catch","err","message"],"mappings":"AAAAA,cAAc,IAERC,IACA,SAAUC,EAAQC,EAAqBC,GAE7C,YACAC,QAAOC,eAAeH,EAAqB,cAAgBI,OAAO,GAC7C,IAAIC,GAA4CJ,EAAoB,KAChEK,EAA4CL,EAAoB,IAChEM,EAA4CN,EAAoB,IAChEO,EAAiDP,EAAoB,KACrEQ,EAAyDR,EAAoBS,EAAEF,GAC/EG,EAA4CV,EAAoB,GCQzFD,GAAA,QAAeE,OAAAG,EAAA,GACX,SAACO,GACG,MAAAV,QAAAW,UACOD,EAAME,sBAGjB,SAACC,GACG,OACIC,aAAc,SAACC,GACXF,GACIG,KAAMX,EAAA,EACNY,KAAMF,KAGdG,aAAc,SAACC,GAAW,GACjBC,GAAyCD,EAAzCC,MAAOC,EAAkCF,EAAlCE,QAASC,EAAyBH,EAAzBG,SAAUC,EAAeJ,EAAfI,WAC/BV,IACIG,KAAMX,EAAA,GAEV,IAAMmB,GAAKf,EAAA,EAAegB,aACtBC,IACJA,GAAcF,EAAGG,aAAeP,EAAMlB,MACtCwB,EAAcF,EAAGI,eAAiBP,EAAQnB,MAC1CwB,EAAcF,EAAGK,gBAAkBP,EAASpB,MAC5CwB,EAAcF,EAAGM,mBAAqBP,EAAYrB,MAClDF,OAAAS,EAAA,GAAoB,SAAAsB,GACjBA,EAAMC,KAAKR,EAAGS,IAAKP,GACdQ,KAAK,SAAAC,GACmB,IAAlBA,EAAIlB,KAAKmB,KACR7B,EAAA8B,EAAQC,QAAQ,4BAEhB/B,EAAA8B,EAAQE,MAAMJ,EAAIlB,KAAKuB,KAG3B3B,GACIG,KAAMX,EAAA,MAGboC,MAAM,SAAAC,GACHnC,EAAA8B,EAAQE,MAAMG,EAAIC,SAClB9B,GACIG,KAAMX,EAAA,YAOlCD,EAAA","file":"static/js/2.f4b418ea.chunk.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 833:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react_redux__ = __webpack_require__(107);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components__ = __webpack_require__(31);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ActionType__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_antd_lib_message__ = __webpack_require__(108);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_antd_lib_message___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_antd_lib_message__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__config_API__ = __webpack_require__(35);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_0_react_redux__[\"b\" /* connect */])(function(state){return Object.assign({},state.ShareWebsiteReducer);},function(dispatch){return{updateFields:function updateFields(changeFields){dispatch({type:__WEBPACK_IMPORTED_MODULE_2__ActionType__[\"t\" /* ACTION_SHARE_WEBSITE_CHANGE_FIELDS */],data:changeFields});},shareWebsite:function shareWebsite(params){var title=params.title,website=params.website,category=params.category,description=params.description;dispatch({type:__WEBPACK_IMPORTED_MODULE_2__ActionType__[\"s\" /* ACTION_SHARE_WEBSITE_BEGIN_SHARE */]});var PW=__WEBPACK_IMPORTED_MODULE_4__config_API__[\"a\" /* CloudServerAPI */].PUSH_WEBSITE;var requestParams={};requestParams[PW.PARAM_TITLE]=title.value;requestParams[PW.PARAM_WEBSITE]=website.value;requestParams[PW.PARAM_CATEGORY]=category.value;requestParams[PW.PARAM_DESCRIPTION]=description.value;Object(__WEBPACK_IMPORTED_MODULE_4__config_API__[\"c\" /* getCloudServerAxios */])(function(axios){axios.post(PW.api,requestParams).then(function(res){if(res.data.code===0){__WEBPACK_IMPORTED_MODULE_3_antd_lib_message___default.a.success('分享成功');}else{__WEBPACK_IMPORTED_MODULE_3_antd_lib_message___default.a.error(res.data.msg);}dispatch({type:__WEBPACK_IMPORTED_MODULE_2__ActionType__[\"u\" /* ACTION_SHARE_WEBSITE_FINISH_SHARE */]});}).catch(function(err){__WEBPACK_IMPORTED_MODULE_3_antd_lib_message___default.a.error(err.message);dispatch({type:__WEBPACK_IMPORTED_MODULE_2__ActionType__[\"u\" /* ACTION_SHARE_WEBSITE_FINISH_SHARE */]});});});}};})(__WEBPACK_IMPORTED_MODULE_1__components__[\"l\" /* ShareWebsiteComponent */]));\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/2.f4b418ea.chunk.js","import {\r\n    connect\r\n} from 'react-redux'\r\n\r\nimport {\r\n    ShareWebsiteComponent\r\n} from '../../components'\r\n\r\nimport {\r\n    ACTION_SHARE_WEBSITE_CHANGE_FIELDS,\r\n    ACTION_SHARE_WEBSITE_BEGIN_SHARE,\r\n    ACTION_SHARE_WEBSITE_FINISH_SHARE,\r\n} from '../../ActionType';\r\nimport message from 'antd/lib/message';\r\n\r\nimport {\r\n    CloudServerAPI,\r\n    getCloudServerAxios,\r\n} from '../../config/API';\r\n\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            ...state.ShareWebsiteReducer\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n            updateFields: (changeFields) => {\r\n                dispatch({\r\n                    type: ACTION_SHARE_WEBSITE_CHANGE_FIELDS,\r\n                    data: changeFields,\r\n                })\r\n            },\r\n            shareWebsite: (params) => {\r\n                let {title, website, category, description} = params;\r\n                dispatch({\r\n                    type: ACTION_SHARE_WEBSITE_BEGIN_SHARE,\r\n                });\r\n                const PW = CloudServerAPI.PUSH_WEBSITE;\r\n                let requestParams = {};\r\n                requestParams[PW.PARAM_TITLE] = title.value;\r\n                requestParams[PW.PARAM_WEBSITE] = website.value;\r\n                requestParams[PW.PARAM_CATEGORY] = category.value;\r\n                requestParams[PW.PARAM_DESCRIPTION] = description.value;\r\n                getCloudServerAxios(axios => {\r\n                   axios.post(PW.api, requestParams)\r\n                       .then(res => {\r\n                           if(res.data.code === 0){\r\n                               message.success('分享成功')\r\n                           } else {\r\n                               message.error(res.data.msg);\r\n                           }\r\n\r\n                           dispatch({\r\n                               type: ACTION_SHARE_WEBSITE_FINISH_SHARE,\r\n                           });\r\n                       })\r\n                       .catch(err => {\r\n                           message.error(err.message);\r\n                           dispatch({\r\n                               type: ACTION_SHARE_WEBSITE_FINISH_SHARE,\r\n                           });\r\n                       })\r\n                });\r\n            }\r\n        }\r\n    },\r\n) (ShareWebsiteComponent)\n\n\n// WEBPACK FOOTER //\n// ./src/containers/share-website/index.js"],"sourceRoot":""}