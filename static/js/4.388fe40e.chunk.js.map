{"version":3,"sources":["../static/js/4.388fe40e.chunk.js","containers/p2p-share/index.js"],"names":["webpackJsonp","827","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__ActionType__","__WEBPACK_IMPORTED_MODULE_1_react_redux__","__WEBPACK_IMPORTED_MODULE_2__components__","__WEBPACK_IMPORTED_MODULE_3__config_API__","state","assign","P2pShareReducer","dispatch","addTorrent","torrent","axios","params","PUSH_ID","PARAM_TORRENT_ID","magnetURI","post","then","res","data","code","type","catch","err","console","log","updateClientInfo","client","removeTorrent","changeState"],"mappings":"AAAAA,cAAc,IAERC,IACA,SAAUC,EAAQC,EAAqBC,GAE7C,YACAC,QAAOC,eAAeH,EAAqB,cAAgBI,OAAO,GAC7C,IAAIC,GAA4CJ,EAAoB,IAChEK,EAA4CL,EAAoB,KAChEM,EAA4CN,EAAoB,IAChEO,EAA4CP,EAAoB,GCQzFD,GAAA,QAAeE,OAAAI,EAAA,GACX,SAACG,GACG,MAAAP,QAAAQ,UACOD,EAAME,kBAGjB,SAACC,GACG,OACIC,WAAY,SAAAC,GACRZ,OAAAM,EAAA,GAAoB,SAAAO,GAChB,GAAIC,KACJA,GAAOR,EAAA,EAAeS,QAAQC,kBAAoBJ,EAAQK,UAC1DJ,EAAMK,KAAK,UAAWJ,GACjBK,KAAK,SAAAC,GACmB,IAAlBA,EAAIC,KAAKC,OACRV,EAAQU,KAAOF,EAAIC,KAAKA,MAC5BX,GACIa,KAAMpB,EAAA,EACNkB,KAAMT,MAGbY,MAAM,SAAAC,GACHf,GACIa,KAAMpB,EAAA,EACNkB,KAAMT,IAEVc,QAAQC,IAAIF,QAK5BG,iBAAkB,SAAAC,GACdnB,GACIa,KAAMpB,EAAA,EACNkB,KAAMQ,KAGdC,cAAe,SAAAlB,GACXF,GACIa,KAAMpB,EAAA,EACNkB,KAAMT,KAGdmB,YAAa,SAAAxB,GACTG,GACIa,KAAMpB,EAAA,EACNkB,KAAMd,QAKvBF,EAAA","file":"static/js/4.388fe40e.chunk.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ 827:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ActionType__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_redux__ = __webpack_require__(107);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components__ = __webpack_require__(31);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__config_API__ = __webpack_require__(35);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_1_react_redux__[\"b\" /* connect */])(function(state){return Object.assign({},state.P2pShareReducer);},function(dispatch){return{addTorrent:function addTorrent(torrent){Object(__WEBPACK_IMPORTED_MODULE_3__config_API__[\"c\" /* getCloudServerAxios */])(function(axios){var params={};params[__WEBPACK_IMPORTED_MODULE_3__config_API__[\"a\" /* CloudServerAPI */].PUSH_ID.PARAM_TORRENT_ID]=torrent.magnetURI;axios.post('/pushId',params).then(function(res){if(res.data.code===0)torrent.code=res.data.data;dispatch({type:__WEBPACK_IMPORTED_MODULE_0__ActionType__[\"i\" /* ACTION_P2P_SHARE_ADD_TORRENT */],data:torrent});}).catch(function(err){dispatch({type:__WEBPACK_IMPORTED_MODULE_0__ActionType__[\"i\" /* ACTION_P2P_SHARE_ADD_TORRENT */],data:torrent});console.log(err);});});},updateClientInfo:function updateClientInfo(client){dispatch({type:__WEBPACK_IMPORTED_MODULE_0__ActionType__[\"l\" /* ACTION_P2P_SHARE_UPDATE_CLIENT_INFO */],data:client});},removeTorrent:function removeTorrent(torrent){dispatch({type:__WEBPACK_IMPORTED_MODULE_0__ActionType__[\"k\" /* ACTION_P2P_SHARE_REMOVE_TORRENT */],data:torrent});},changeState:function changeState(state){dispatch({type:__WEBPACK_IMPORTED_MODULE_0__ActionType__[\"j\" /* ACTION_P2P_SHARE_CHANGE_STATE */],data:state});}};})(__WEBPACK_IMPORTED_MODULE_2__components__[\"h\" /* P2pShareComponent */]));\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/4.388fe40e.chunk.js","import {\r\n    ACTION_P2P_SHARE_ADD_TORRENT,\r\n    ACTION_P2P_SHARE_UPDATE_CLIENT_INFO,\r\n    ACTION_P2P_SHARE_REMOVE_TORRENT,\r\n    ACTION_P2P_SHARE_CHANGE_STATE,\r\n} from '../../ActionType';\r\nimport {\r\n    connect\r\n} from 'react-redux'\r\n\r\nimport {\r\n    P2pShareComponent\r\n} from '../../components'\r\nimport {\r\n    getCloudServerAxios,\r\n    CloudServerAPI,\r\n} from '../../config/API';\r\n\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            ...state.P2pShareReducer\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n            addTorrent: torrent => {\r\n                getCloudServerAxios(axios => {\r\n                    let params = {};\r\n                    params[CloudServerAPI.PUSH_ID.PARAM_TORRENT_ID] = torrent.magnetURI;\r\n                    axios.post('/pushId', params)\r\n                        .then(res => {\r\n                            if(res.data.code === 0)\r\n                                torrent.code = res.data.data;\r\n                            dispatch({\r\n                                type: ACTION_P2P_SHARE_ADD_TORRENT,\r\n                                data: torrent,\r\n                            })\r\n                        })\r\n                        .catch(err => {\r\n                            dispatch({\r\n                                type: ACTION_P2P_SHARE_ADD_TORRENT,\r\n                                data: torrent,\r\n                            });\r\n                            console.log(err);\r\n                        });\r\n\r\n                });\r\n            },\r\n            updateClientInfo: client => {\r\n                dispatch({\r\n                    type: ACTION_P2P_SHARE_UPDATE_CLIENT_INFO,\r\n                    data: client,\r\n                })\r\n            },\r\n            removeTorrent: torrent => {\r\n                dispatch({\r\n                    type: ACTION_P2P_SHARE_REMOVE_TORRENT,\r\n                    data: torrent,\r\n                })\r\n            },\r\n            changeState: state => {\r\n                dispatch({\r\n                    type: ACTION_P2P_SHARE_CHANGE_STATE,\r\n                    data: state,\r\n                })\r\n            }\r\n        }\r\n    },\r\n) (P2pShareComponent)\n\n\n// WEBPACK FOOTER //\n// ./src/containers/p2p-share/index.js"],"sourceRoot":""}