{"version":3,"sources":["../static/js/6.74ece9d0.chunk.js","containers/home/index.js"],"names":["webpackJsonp","770","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_react_redux__","__WEBPACK_IMPORTED_MODULE_1__components__","__WEBPACK_IMPORTED_MODULE_2__ActionType__","__WEBPACK_IMPORTED_MODULE_3_antd_lib_message__","__WEBPACK_IMPORTED_MODULE_3_antd_lib_message___default","n","__WEBPACK_IMPORTED_MODULE_4__config_API__","state","assign","HomeReducer","dispatch","loadMore","page","isDownload","arguments","length","undefined","sortByTime","type","toType","GET_MOVIES","URL","api","PARAM_PAGE","PARAM_SIZE","PARAM_IS_DOWNLOAD","PARAM_ORDER_PROP","PARAM_ORDER","PARAM_TYPE","axois","get","then","res","items","data","catch","err","console","log","a","info","changeTab","key"],"mappings":"AAAAA,cAAc,IAERC,IACA,SAAUC,EAAQC,EAAqBC,GAE7C,YACAC,QAAOC,eAAeH,EAAqB,cAAgBI,OAAO,GAC7C,IAAIC,GAA4CJ,EAAoB,KAChEK,EAA4CL,EAAoB,IAChEM,EAA4CN,EAAoB,IAChEO,EAAiDP,EAAoB,KACrEQ,EAAyDR,EAAoBS,EAAEF,GAC/EG,EAA4CV,EAAoB,GCSzFD,GAAA,QAAeE,OAAAG,EAAA,GACX,SAACO,GACG,MAAAV,QAAAW,UACOD,EAAME,cAGjB,SAACC,GACG,OACIC,SAAU,SAACC,GAAsD,GAAhDC,GAAgDC,UAAAC,OAAA,OAAAC,KAAAF,UAAA,IAAAA,UAAA,GAA5BG,IAA4BH,UAAAC,OAAA,OAAAC,KAAAF,UAAA,KAAAA,UAAA,GAATI,EAASJ,UAAA,EAC7DJ,IACIQ,KAAMhB,EAAA,EACNiB,OAAQD,GAEZ,IAAME,GAAad,EAAA,EAAec,WAC9BC,EAASD,EAAWE,IAApB,IAA2BF,EAAWG,WAAtC,IAAoDX,EAApD,IAA4DQ,EAAWI,WAAvE,KACDX,KACCQ,OAAWD,EAAWK,kBAAtB,MACDR,IACCI,EAAMA,MAAUD,EAAWM,iBAArB,cAAmDN,EAAWO,YAA9D,SACPT,IACCG,EAAMA,MAAUD,EAAWQ,WAArB,IAAmCV,GAC7CrB,OAAAS,EAAA,GAAoB,SAAAuB,GAChBA,EAAMC,IAAIT,GACLU,KAAK,SAAAC,GACFtB,GACIQ,KAAMhB,EAAA,EACNiB,OAAQD,GAEZ,IAAIe,GAAQD,EAAIE,KAAKA,IAOjBxB,GANCuB,GAA0B,IAAjBA,EAAMlB,QAOZG,KAAMhB,EAAA,EACNgC,KAAMD,EACNd,OAAQD,IAPRA,KAAMhB,EAAA,EACNiB,OAAQD,MAUnBiB,MAAM,SAAAC,GACH1B,GACIQ,KAAMhB,EAAA,EACNiB,OAAQD,IAEZR,GACIQ,KAAMhB,EAAA,EACNiB,OAAQD,IAEZmB,QAAQC,IAAIF,GACZhC,EAAAmC,EAAQC,KAAK,iCAI7BC,UAAW,SAACC,GACRhC,GACIQ,KAAMhB,EAAA,EACNgC,KAAMQ,QAKxBzC,EAAA","file":"static/js/6.74ece9d0.chunk.js","sourcesContent":["webpackJsonp([6],{\n\n/***/ 770:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react_redux__ = __webpack_require__(103);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components__ = __webpack_require__(30);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ActionType__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_antd_lib_message__ = __webpack_require__(104);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_antd_lib_message___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_antd_lib_message__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__config_API__ = __webpack_require__(34);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_0_react_redux__[\"b\" /* connect */])(function(state){return Object.assign({},state.HomeReducer);},function(dispatch){return{loadMore:function loadMore(page){var isDownload=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var sortByTime=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var type=arguments[3];dispatch({type:__WEBPACK_IMPORTED_MODULE_2__ActionType__[\"d\" /* ACTION_HOME_BEGIN_LOADING */],toType:type});var GET_MOVIES=__WEBPACK_IMPORTED_MODULE_4__config_API__[\"a\" /* CloudServerAPI */].GET_MOVIES;var URL=GET_MOVIES.api+'?'+GET_MOVIES.PARAM_PAGE+'='+page+'&'+GET_MOVIES.PARAM_SIZE+'=10';if(isDownload)URL+='&'+GET_MOVIES.PARAM_IS_DOWNLOAD+'=1';if(sortByTime)URL=URL+('&'+GET_MOVIES.PARAM_ORDER_PROP+'=createdAt&'+GET_MOVIES.PARAM_ORDER+'=DESC');if(type)URL=URL+('&'+GET_MOVIES.PARAM_TYPE+'='+type);Object(__WEBPACK_IMPORTED_MODULE_4__config_API__[\"c\" /* getCloudServerAxios */])(function(axois){axois.get(URL).then(function(res){dispatch({type:__WEBPACK_IMPORTED_MODULE_2__ActionType__[\"f\" /* ACTION_HOME_LOADING_FINISH */],toType:type});var items=res.data.data;if(!items||items.length===0){//没有获取到数据说明说有数据都获取完毕了\ndispatch({type:__WEBPACK_IMPORTED_MODULE_2__ActionType__[\"g\" /* ACTION_HOME_NO_MORE */],toType:type});}else{dispatch({type:__WEBPACK_IMPORTED_MODULE_2__ActionType__[\"c\" /* ACTION_HOME_ADD_ITEMS */],data:items,toType:type});}}).catch(function(err){dispatch({type:__WEBPACK_IMPORTED_MODULE_2__ActionType__[\"g\" /* ACTION_HOME_NO_MORE */],toType:type});dispatch({type:__WEBPACK_IMPORTED_MODULE_2__ActionType__[\"f\" /* ACTION_HOME_LOADING_FINISH */],toType:type});console.log(err);__WEBPACK_IMPORTED_MODULE_3_antd_lib_message___default.a.info('获取错误');});});},changeTab:function changeTab(key){dispatch({type:__WEBPACK_IMPORTED_MODULE_2__ActionType__[\"e\" /* ACTION_HOME_CHANGE_TAB */],data:key});}};})(__WEBPACK_IMPORTED_MODULE_1__components__[\"d\" /* HomeComponent */]));\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/6.74ece9d0.chunk.js","import {\n    connect\n} from 'react-redux'\n\nimport {\n    HomeComponent\n} from '../../components'\n\nimport {\n    ACTION_HOME_ADD_ITEMS,\n    ACTION_HOME_LOADING_FINISH,\n    ACTION_HOME_NO_MORE,\n    ACTION_HOME_BEGIN_LOADING,\n    ACTION_HOME_CHANGE_TAB,\n} from '../../ActionType';\nimport message from 'antd/lib/message';\nimport {\n    CloudServerAPI,\n    getCloudServerAxios,\n} from '../../config/API';\n\nexport default connect(\n    (state) => {\n        return {\n            ...state.HomeReducer\n        }\n    },\n    (dispatch) => {\n        return {\n            loadMore: (page, isDownload = false, sortByTime = true, type) => {\n                dispatch({\n                    type: ACTION_HOME_BEGIN_LOADING,\n                    toType: type\n                });\n                const GET_MOVIES = CloudServerAPI.GET_MOVIES;\n                let URL = `${GET_MOVIES.api}?${GET_MOVIES.PARAM_PAGE}=${page}&${GET_MOVIES.PARAM_SIZE}=10`;\n                if(isDownload)\n                    URL += `&${GET_MOVIES.PARAM_IS_DOWNLOAD}=1`;\n                if(sortByTime)\n                    URL = URL + `&${GET_MOVIES.PARAM_ORDER_PROP}=createdAt&${GET_MOVIES.PARAM_ORDER}=DESC`;\n                if(type)\n                    URL = URL + `&${GET_MOVIES.PARAM_TYPE}=${type}`;\n                getCloudServerAxios(axois => {\n                    axois.get(URL)\n                        .then(res => {\n                            dispatch({\n                                type: ACTION_HOME_LOADING_FINISH,\n                                toType: type\n                            });\n                            let items = res.data.data;\n                            if (!items || items.length === 0) {       //没有获取到数据说明说有数据都获取完毕了\n                                dispatch({\n                                    type: ACTION_HOME_NO_MORE,\n                                    toType: type\n                                });\n                            } else {\n                                dispatch({\n                                    type: ACTION_HOME_ADD_ITEMS,\n                                    data: items,\n                                    toType: type\n                                })\n                            }\n                        })\n                        .catch(err => {\n                            dispatch({\n                                type: ACTION_HOME_NO_MORE,\n                                toType: type\n                            });\n                            dispatch({\n                                type: ACTION_HOME_LOADING_FINISH,\n                                toType: type\n                            });\n                            console.log(err);\n                            message.info('获取错误')\n                        });\n                });\n            },\n            changeTab: (key) => {\n                dispatch({\n                    type: ACTION_HOME_CHANGE_TAB,\n                    data: key,\n                })\n            }\n        }\n    },\n)(HomeComponent)\n\n\n// WEBPACK FOOTER //\n// ./src/containers/home/index.js"],"sourceRoot":""}