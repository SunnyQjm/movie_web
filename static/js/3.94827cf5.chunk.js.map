{"version":3,"sources":["../static/js/3.94827cf5.chunk.js","containers/search-result/index.js"],"names":["webpackJsonp","832","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_react_redux__","__WEBPACK_IMPORTED_MODULE_1__components__","__WEBPACK_IMPORTED_MODULE_2__ActionType__","__WEBPACK_IMPORTED_MODULE_3__config_API__","__WEBPACK_IMPORTED_MODULE_4_antd_lib_message_index__","__WEBPACK_IMPORTED_MODULE_4_antd_lib_message_index___default","n","state","assign","SearchResultReducer","dispatch","loadMore","page","category","keywords","type","URL","BASE_URL","QUERY_WEBSITE","CATEGORY","api","PARAM_KEY_WORDS","QUERY_RESOURCE","axois","get","then","res","items","data","length","catch","err","console","log","a","info","changeTab","key","updateKeywords","keyWords"],"mappings":"AAAAA,cAAc,IAERC,IACA,SAAUC,EAAQC,EAAqBC,GAE7C,YACAC,QAAOC,eAAeH,EAAqB,cAAgBI,OAAO,GAC7C,IAAIC,GAA4CJ,EAAoB,KAChEK,EAA4CL,EAAoB,IAChEM,EAA4CN,EAAoB,IAChEO,EAA4CP,EAAoB,IAChEQ,EAAuDR,EAAoB,KAC3ES,EAA+DT,EAAoBU,EAAEF,ECM9GT,GAAA,QAAeE,OAAAG,EAAA,GACX,SAACO,GACG,MAAAV,QAAAW,UACOD,EAAME,sBAGjB,SAACC,GACG,OACIC,SAAU,SAACC,EAAMC,EAAUC,GACvBJ,GACIK,KAAMb,EAAA,EACNW,SAAUA,EACVC,SAAUA,GAEd,IAAIE,GAAMb,EAAA,EAAec,QACzB,IAAGJ,IAAaV,EAAA,EAAee,cAAcC,SACzCH,GAAUb,EAAA,EAAee,cAAcE,IAAvC,IAA8CjB,EAAA,EAAee,cAAcG,gBAA3E,IAA8FP,MAG3F,IAAGD,IAAaV,EAAA,EAAemB,eAAeH,SAKjD,MAJAH,IAAUb,EAAA,EAAemB,eAAeF,IAAxC,IAA+CjB,EAAA,EAAemB,eAAeD,gBAA7E,IAAgGP,EAMpGjB,OAAAM,EAAA,GAAoB,SAAAoB,GAChBA,EAAMC,IAAIR,GACLS,KAAK,SAAAC,GACFhB,GACIK,KAAMb,EAAA,EACNW,SAAUA,GAEd,IAAIc,GAAQD,EAAIE,KAAKA,IAOjBlB,GANCiB,GAA0B,IAAjBA,EAAME,QAOZd,KAAMb,EAAA,EACN0B,KAAMD,EACNd,SAAUA,IAPVE,KAAMb,EAAA,EACNW,SAAUA,MAUrBiB,MAAM,SAAAC,GACHrB,GACIK,KAAMb,EAAA,EACNW,SAAUA,IAEdH,GACIK,KAAMb,EAAA,EACNW,SAAUA,IAEdmB,QAAQC,IAAIF,GACZ1B,EAAA6B,EAAQC,KAAK,iCAI7BC,UAAW,SAACC,GACR3B,GACIK,KAAMb,EAAA,EACN0B,KAAMS,KAGdC,eAAgB,SAACC,GACb7B,GACIK,KAAMb,EAAA,EACN0B,KAAMW,QAKvBtC,EAAA","file":"static/js/3.94827cf5.chunk.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ 832:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react_redux__ = __webpack_require__(107);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components__ = __webpack_require__(31);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ActionType__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__config_API__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_antd_lib_message_index__ = __webpack_require__(108);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_antd_lib_message_index___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_antd_lib_message_index__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_0_react_redux__[\"b\" /* connect */])(function(state){return Object.assign({},state.SearchResultReducer);},function(dispatch){return{loadMore:function loadMore(page,category,keywords){dispatch({type:__WEBPACK_IMPORTED_MODULE_2__ActionType__[\"n\" /* ACTION_SEARCH_RESULT_BEGIN_LOADING */],category:category,keywords:keywords});var URL=__WEBPACK_IMPORTED_MODULE_3__config_API__[\"a\" /* CloudServerAPI */].BASE_URL;if(category===__WEBPACK_IMPORTED_MODULE_3__config_API__[\"a\" /* CloudServerAPI */].QUERY_WEBSITE.CATEGORY){URL+=__WEBPACK_IMPORTED_MODULE_3__config_API__[\"a\" /* CloudServerAPI */].QUERY_WEBSITE.api+'?'+__WEBPACK_IMPORTED_MODULE_3__config_API__[\"a\" /* CloudServerAPI */].QUERY_WEBSITE.PARAM_KEY_WORDS+'='+keywords;// URL += `&${CloudServerAPI.QUERY_WEBSITE.PARAM_SIZE}=10`;\n// URL += `&${CloudServerAPI.QUERY_WEBSITE.PARAM_PAGE}=${page}`\n}else if(category===__WEBPACK_IMPORTED_MODULE_3__config_API__[\"a\" /* CloudServerAPI */].QUERY_RESOURCE.CATEGORY){URL+=__WEBPACK_IMPORTED_MODULE_3__config_API__[\"a\" /* CloudServerAPI */].QUERY_RESOURCE.api+'?'+__WEBPACK_IMPORTED_MODULE_3__config_API__[\"a\" /* CloudServerAPI */].QUERY_RESOURCE.PARAM_KEY_WORDS+'='+keywords;// URL += `&${CloudServerAPI.QUERY_RESOURCE.PARAM_SIZE}=10`;\n// URL += `&${CloudServerAPI.QUERY_RESOURCE.PARAM_PAGE}=${page}`\n}else{return;}Object(__WEBPACK_IMPORTED_MODULE_3__config_API__[\"c\" /* getCloudServerAxios */])(function(axois){axois.get(URL).then(function(res){dispatch({type:__WEBPACK_IMPORTED_MODULE_2__ActionType__[\"p\" /* ACTION_SEARCH_RESULT_LOADING_FINISH */],category:category});var items=res.data.data;if(!items||items.length===0){//没有获取到数据说明说有数据都获取完毕了\ndispatch({type:__WEBPACK_IMPORTED_MODULE_2__ActionType__[\"q\" /* ACTION_SEARCH_RESULT_NO_MORE */],category:category});}else{dispatch({type:__WEBPACK_IMPORTED_MODULE_2__ActionType__[\"m\" /* ACTION_SEARCH_RESULT_ADD_ITEMS */],data:items,category:category});}}).catch(function(err){dispatch({type:__WEBPACK_IMPORTED_MODULE_2__ActionType__[\"q\" /* ACTION_SEARCH_RESULT_NO_MORE */],category:category});dispatch({type:__WEBPACK_IMPORTED_MODULE_2__ActionType__[\"p\" /* ACTION_SEARCH_RESULT_LOADING_FINISH */],category:category});console.log(err);__WEBPACK_IMPORTED_MODULE_4_antd_lib_message_index___default.a.info('获取错误');});});},changeTab:function changeTab(key){dispatch({type:__WEBPACK_IMPORTED_MODULE_2__ActionType__[\"o\" /* ACTION_SEARCH_RESULT_CHANGE_TAB */],data:key});},updateKeywords:function updateKeywords(keyWords){dispatch({type:__WEBPACK_IMPORTED_MODULE_2__ActionType__[\"r\" /* ACTION_SEARCH_RESULT_UPDATE_KEYWORDS */],data:keyWords});}};})(__WEBPACK_IMPORTED_MODULE_1__components__[\"k\" /* SearchResultComponent */]));\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/3.94827cf5.chunk.js","import {\r\n    connect\r\n} from 'react-redux'\r\n\r\nimport {\r\n    SearchResultComponent\r\n} from '../../components'\r\nimport {\r\n    ACTION_SEARCH_RESULT_ADD_ITEMS,\r\n    ACTION_SEARCH_RESULT_BEGIN_LOADING,\r\n    ACTION_SEARCH_RESULT_CHANGE_TAB,\r\n    ACTION_SEARCH_RESULT_LOADING_FINISH,\r\n    ACTION_SEARCH_RESULT_NO_MORE,\r\n    ACTION_SEARCH_RESULT_UPDATE_KEYWORDS,\r\n} from \"../../ActionType\";\r\nimport {getCloudServerAxios, CloudServerAPI} from \"../../config/API\";\r\nimport message from \"antd/lib/message/index\";\r\n\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            ...state.SearchResultReducer\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n            loadMore: (page, category, keywords) => {\r\n                dispatch({\r\n                    type: ACTION_SEARCH_RESULT_BEGIN_LOADING,\r\n                    category: category,\r\n                    keywords: keywords,\r\n                });\r\n                let URL = CloudServerAPI.BASE_URL;\r\n                if(category === CloudServerAPI.QUERY_WEBSITE.CATEGORY){\r\n                    URL += `${CloudServerAPI.QUERY_WEBSITE.api}?${CloudServerAPI.QUERY_WEBSITE.PARAM_KEY_WORDS}=${keywords}`;\r\n                    // URL += `&${CloudServerAPI.QUERY_WEBSITE.PARAM_SIZE}=10`;\r\n                    // URL += `&${CloudServerAPI.QUERY_WEBSITE.PARAM_PAGE}=${page}`\r\n                } else if(category === CloudServerAPI.QUERY_RESOURCE.CATEGORY){\r\n                    URL += `${CloudServerAPI.QUERY_RESOURCE.api}?${CloudServerAPI.QUERY_RESOURCE.PARAM_KEY_WORDS}=${keywords}`;\r\n                    // URL += `&${CloudServerAPI.QUERY_RESOURCE.PARAM_SIZE}=10`;\r\n                    // URL += `&${CloudServerAPI.QUERY_RESOURCE.PARAM_PAGE}=${page}`\r\n                } else {\r\n                    return;\r\n                }\r\n                getCloudServerAxios(axois => {\r\n                    axois.get(URL)\r\n                        .then(res => {\r\n                            dispatch({\r\n                                type: ACTION_SEARCH_RESULT_LOADING_FINISH,\r\n                                category: category\r\n                            });\r\n                            let items = res.data.data;\r\n                            if (!items || items.length === 0) {       //没有获取到数据说明说有数据都获取完毕了\r\n                                dispatch({\r\n                                    type: ACTION_SEARCH_RESULT_NO_MORE,\r\n                                    category: category\r\n                                });\r\n                            } else {\r\n                                dispatch({\r\n                                    type: ACTION_SEARCH_RESULT_ADD_ITEMS,\r\n                                    data: items,\r\n                                    category: category\r\n                                })\r\n                            }\r\n                        })\r\n                        .catch(err => {\r\n                            dispatch({\r\n                                type: ACTION_SEARCH_RESULT_NO_MORE,\r\n                                category: category\r\n                            });\r\n                            dispatch({\r\n                                type: ACTION_SEARCH_RESULT_LOADING_FINISH,\r\n                                category: category\r\n                            });\r\n                            console.log(err);\r\n                            message.info('获取错误')\r\n                        });\r\n                });\r\n            },\r\n            changeTab: (key) => {\r\n                dispatch({\r\n                    type: ACTION_SEARCH_RESULT_CHANGE_TAB,\r\n                    data: key,\r\n                })\r\n            },\r\n            updateKeywords: (keyWords) => {\r\n                dispatch({\r\n                    type: ACTION_SEARCH_RESULT_UPDATE_KEYWORDS,\r\n                    data: keyWords,\r\n                })\r\n            }\r\n        }\r\n    },\r\n) (SearchResultComponent)\n\n\n// WEBPACK FOOTER //\n// ./src/containers/search-result/index.js"],"sourceRoot":""}